<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="concept _Skins_IBP_sidenav" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="Adding business logic |Triggers and workflows|Trigger overview|Working with custom triggers" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" /><title>Configuring a Custom Trigger to Use a Custom Object</title>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/Main_Styles.css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-164223934-1">
        </script>
        <script>/* <![CDATA[ */
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-164223934-1');
	/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-left is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" role="banner" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Welcome.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="4" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="sel-dropdown">Documentation Version 
			<select id="versionSelect"><option value="v6.10.0">6.10.0</option><option value="v6.9.0">6.9.0</option><option value="v6.8.0">6.8.0</option><option value="default">6.11.0</option></select><script>/* <![CDATA[ */
				const select = document.querySelector('#versionSelect');
				select.addEventListener('change', function() {
				const selectedVersion = this.value;
				const currentUrl = window.location.href;
				let newUrl = '';

				if (selectedVersion !== "default") {
				if (currentUrl.match(/\/v\d+(\.\d+(\.\d+)?)?\//) === null) {
				const tempURL = new URL(currentUrl);
				newUrl = tempURL.protocol + '//' + tempURL.hostname + '/' + selectedVersion + tempURL.pathname;
				} else {
				newUrl = currentUrl.replace(/\/v\d+(\.\d+(\.\d+)?)?\//, `/${selectedVersion}/`);
				}
				} else {
				// If "default" is selected, remove the versioned part from the URL
				newUrl = currentUrl.replace(/\/v\d+(\.\d+(\.\d+)?)?\//, '/');
				}

				window.location.href = newUrl;
				});
		/* ]]> */</script></div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div class="home-container">
                                        <div class="topic-body">
                                            <div role="main" id="mc-main-content">
                                                <h1 class="concepttitle" id="ConfiguringaCustomTriggertoUseaCustomObject" data-magellan-target="ConfiguringaCustomTriggertoUseaCustomObject">Configuring a Custom Trigger to Use a Custom Object</h1>
                                                <p><b>Prerequisite:</b>
                                                </p>
                                                <p>Perform the below steps before installing an application </p>
                                                <p>
                                                    <ol>
                                                        <li value="1">Download custom.zip file and extract.</li>
                                                        <li value="2">Copy customt.jar to following war file or tomcat installation path. Better to
					copy to war files to avoid problem when you are working in cluster
						environments.<ul><li>master/WEB-INF/lib (tomcat/webapps/master/WEB-INF/lib)</li><li>prod1/WEB-INF/lib (tomcat/webapps/master/WEB-INF/lib). Copy to all prod
							machines.</li><li>rest/WEB-INF/lib (tomcat/webapps/rest/WEB-INF/lib)</li><li>webapi/WEB-INF/lib (tomcat/webapps/webapi/WEB-INF/lib)</li><li>search/WEB-INF/lib (tomcat/webapps/search/WEB-INF/lib)</li><li>storage/WEB-INF/lib (tomcat/webapps/strorage/WEB-INF/lib)</li></ul></li>
                                                        <li value="3"> Update event.xml to include Custom trigger configure details, from Platform 5.0
					you can configure this from System console. Follow this link to add new entry to
					events.xml . With out this change you can’t install this application, since this
					application object configured with custom trigger.</li>
                                                        <li value="4"> If you want to use Custom Object in formual (sample application include this
					feature) , update following shared property, CustomClassFilter =
					com.custom.CustomObject . More details about Custom Object are available in
					below section. From Platform 5.0 shared properties can be updated from system
					Console. If you don’t configure this property, Custom Object Field column
					displays error message.</li>
                                                        <li value="5">Restart your Tomcat</li>
                                                    </ol>
                                                </p>
                                                <div class="section">
                                                    <h2 class="sectiontitle" id="GettingStarted" data-magellan-target="GettingStarted">Getting Started</h2>
                                                    <p>This application demonstrates how you can configure Custom Trigger and how you can
				use Custom Object in Platform. This Application has two object Object A, Object B
				and they are related to each other with relationship of M:M. </p>
                                                    <p><b>Object A </b>– configured with Custom Trigger and used Custom Object in Custom
				Object Field formula field. In below sections, we will see in details about Custom
				Trigger and Custom Objects.</p>
                                                    <p><b>Object B</b> – Have integer field configured which will be updated by Custom
				Trigger.</p>
                                                </div>
                                                <div class="section">
                                                    <h2 class="sectiontitle" id="CustomTrigger" data-magellan-target="CustomTrigger">Custom Trigger</h2>
                                                    <p>Custom Trigger can be developed and deployed only in the private cloud. Refer <a href="Developing_a_Custom_Trigger.htm" class="MCXref xref">Developing a Custom Trigger</a> in Platform. Sample custom trigger
				attached to development kit only run an Application that have at least two objects
				and both are related, also when you configure trigger for an object other side
				related object should have integer field.</p>
                                                    <p>Sample custom trigger code run on related object records, increment integer value of
				related object by 100 on each run, when value exceeds 1000, it throws error. </p>
                                                    <p>After configuring the custom trigger, the new custom trigger itemwill be available in the
				Trigger page. When you select the custom trigger, the Tirgger configuration page
				view will appear. Configure<span class="uicontrol"> Relationship Name</span> and
					<span class="uicontrol">Related Object</span> integer field name from UI as shown in the
				sample screenshot below.</p>
                                                    <p>
                                                        <img src="vwq1507711044079.jpg" style="width: 695px;height: 283px;" alt="" />
                                                    </p>
                                                    <p>These two values are persisted and will be used by custom trigger code when it is
				run. </p>
                                                    <p>Following code is used to render these two fields in UI
				(CustomTriggerConfig.java)</p>
                                                    <p>
                                                        <img src="ljp1507711047754.jpg" style="width: 703px;height: 145px;" alt="" />
                                                    </p>
                                                    <p>Following code is used to persist the value to Trigger properties
				(CustomTriggerConfig.java)</p>
                                                    <p>
                                                        <img src="hib1507711037309.jpg" style="width: 704px;height: 83px;" alt="" />
                                                    </p>
                                                    <p>Following code uses the above two values when trigger runs (CustomTrigger.java)</p>
                                                    <p>
                                                        <img src="zhr1507711028856.jpg" style="width: 702px;height: 188px;" alt="" />
                                                    </p>
                                                </div>
                                                <div class="section">
                                                    <h2 class="sectiontitle" id="CustomObject" data-magellan-target="CustomObject">Custom Object</h2>
                                                    <p>Custom Object can be used in Platform formulas. In order to use custom object user
				should make Custom Object available in tomcat class path. Sample attachment has
				CustomObject.java and this class is made part of customt.jar and copied as
				mentioned. You can build separate jar and copy jar to all war files as mentioned in
				the prerequisite section.</p>
                                                    <p> After you copy jar you should update following shared property </p>
                                                    <p>CustomClassFilter=Regular expression which matches classes you want to allow</p>
                                                    <p>Below section provided sample how to use Custom Object in Platform.</p>
                                                    <p>Sample</p>
                                                    <p>CustomClassFilter = com.custom.CustomObject</p>
                                                    <p>Formula field, returns number of related items</p>
                                                    <p>
                                                        <img src="vhu1507711034096.jpg" style="width: 583px;height: 146px;" alt="" />
                                                    </p>
                                                    <p>CustomObject.java</p>
                                                    <p>Sample class written to wrap simple ArrayList functionality, you are free to write
				this class as complex as you need.</p>
                                                    <p>
                                                        <img src="buw1507711040708.jpg" alt="" />
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="menu-container">
                                            <div data-sticky-container="" id="5JaEkjNbokqaOvIf8ChwXQ">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="5JaEkjNbokqaOvIf8ChwXQ:top" data-bottom-anchor="contentBody:bottom" data-scroll-container=".body-container" data-sticky-on="small" data-scroll-container-on="only screen and (min-width: 1280px)">
                                                    <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 1280px)" class="nocontent menu _Skins_topic_menu mc-component">
                                                        <li class="tree-node"><a href="#ConfiguringaCustomTriggertoUseaCustomObject">Configuring a Custom Trigger to Use a Custom Object</a>
                                                        </li>
                                                        <li>
                                                            <ul>
                                                                <li class="tree-node"><a href="#GettingStarted">Getting Started</a>
                                                                </li>
                                                                <li class="tree-node"><a href="#CustomTrigger">Custom Trigger</a>
                                                                </li>
                                                                <li class="tree-node"><a href="#CustomObject">Custom Object</a>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel">
                                        <div class="right-align"><a class="footer1" href="https://www.linkedin.com/company/infiniteblue/" target="_blank"><img src="../Resources/Images/Home/linkedin.png" alt="Linkedin" style="width: 35px;height: 35px;" /></a><a class="footer1last" href="https://www.youtube.com/channel/UCRa_FE0f3k9KJrNJyAT39Hg/featured" target="_blank"><img src="../Resources/Images/Home/youtube.png" alt="YouTube" style="width: 35px;height: 35px;" /></a>
                                        </div>
                                        <div class="right-align-2"><a class="footer2" href="https://www.infiniteblue.com" target="_blank">Copyright © 2024 Infinite Blue. All Rights Reserved.</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
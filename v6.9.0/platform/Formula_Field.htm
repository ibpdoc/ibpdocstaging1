<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="concept _Skins_Side_Nav_2023_feb" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-toc-path="API References|Field types" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" /><title>Formula Field</title>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/ib_platform.css" rel="stylesheet" type="text/css" />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-164223934-1">
        </script>
        <script>/* <![CDATA[ */
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-164223934-1');
	/* ]]> */</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-left is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" role="banner" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../Welcome.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="4" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div style=" text-align: right; color:white; font-size: 9pt; background:#001649 ; margin-bottom: 15px; padding: 4px 12px; ">Documentation Version 
			<select id="versionSelect"><option value="v6.9.0">6.9.0</option><option value="v6.10.0">6.10.0</option><option value="default">6.11.0</option><option value="v6.8.0">6.8.0</option></select><script>/* <![CDATA[ */
				const select = document.querySelector('#versionSelect');
				select.addEventListener('change', function() {
				const selectedVersion = this.value;
				const currentUrl = window.location.href;
				let newUrl = '';

				if (selectedVersion !== "default") {
				if (currentUrl.match(/\/v\d+(\.\d+(\.\d+)?)?\//) === null) {
				const tempURL = new URL(currentUrl);
				newUrl = tempURL.protocol + '//' + tempURL.hostname + '/' + selectedVersion + tempURL.pathname;
				} else {
				newUrl = currentUrl.replace(/\/v\d+(\.\d+(\.\d+)?)?\//, `/${selectedVersion}/`);
				}
				} else {
				// If "default" is selected, remove the versioned part from the URL
				newUrl = currentUrl.replace(/\/v\d+(\.\d+(\.\d+)?)?\//, '/');
				}

				window.location.href = newUrl;
				});
		/* ]]> */</script></div>
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div class="home-container">
                                        <div class="topic-body">
                                            <div role="main" id="mc-main-content">
                                                <h1 class="concepttitle" id="FormulaField" data-magellan-target="FormulaField">Formula Field</h1>
                                                <p>Formula field values are calculated from a formula and are automatically updated
   when any fields used in the formula expression change value. You write formula field expressions
   in JavaScript. Platform executes them to compute a dynamic output that can be displayed on the
   screen, and can be used by other components. </p>
                                                <p>Formula fields can be displayed in views, see <a href="Views.htm" class="MCXref xref">Views</a>, but cannot be used for sorting, totaling, and
   filtering of records in Views. Use an <a href="Expression_Field.htm">expression
    field</a> instead to sort, total or filter. Formula fields execute immediately when you
   create them and upon any update to the values to which they refer, while expression fields only execute after an update operation.</p>
                                                <div class="draft-comment">Reviewers: I tried to distill the information in the CQ description
   about the difference in execution for formula and expression fields, please suggest a clearer way
   of explaining it if this is not sufficient. </div>
                                                <p>The <span class="uicontrol">New Field</span> screen for a formula field includes:</p>
                                                <ul>
                                                    <li>
                                                        <p style="font-weight: bold;">Field Properties</p>
                                                        <ul style="list-style-type: circle;">
                                                            <li>
                                                                <p><span class="uicontrol">Field Label</span> — (mandatory) is displayed on
    the left from the field on view, edit, and new record pages. </p>
                                                            </li>
                                                            <li>
                                                                <p><span class="uicontrol">View Header</span> — (optional) is used in
    headers of views and reports. If not specified, the <span class="uicontrol">Field Label</span> is used. </p>
                                                            </li>
                                                            <li>
                                                                <p><span class="uicontrol">View Width</span> — (optional) is used to set
    width (in pixels or %) of columns in views and reports. If not specified, the browser calculates
    the width of columns automatically.</p>
                                                            </li>
                                                            <li>
                                                                <p><span class="uicontrol">Hide this field's label on UI pages</span> — An optional checkbox for hiding the display label of the field on UI Pages.</p>
                                                            </li>
                                                            <li>
                                                                <p><span class="uicontrol">Return Type</span> — The return type, which can be <code>Decimal</code>,
			<code>Currency</code>, <code>Integer</code>, <code>String</code>,
		<code>Boolean</code>, <code>Date</code> or <code>Date/Time</code>. </p>
                                                                <ul>
                                                                    <li>
                                                                        <p>The currency format (only for fields with a <code>Currency</code> return
				type). </p>
                                                                    </li>
                                                                    <li>
                                                                        <p>The number of decimal places (only for fields with <code>Decimal</code>
				return type). </p>
                                                                    </li>
                                                                </ul>
                                                            </li>
                                                            <li>
                                                                <p><span class="uicontrol">Formula Editor</span> — Defines the
    JavaScript expression. You can use merge fields from the current object record and related
    records to return a dynamically computed value. This value can be numeric or strings. Strings
    can consist of plain text, rich HTML, or JavaScript code that will be executed on the client's
    browser. For more information about formulas, including examples, see <a href="Formulas.htm" class="MCXref xref">Formulas</a>. </p>
                                                            </li>
                                                        </ul>&#160;</li>
                                                    <li>
                                                        <p><span class="uicontrol">Advanced Field Properties</span> — For more information, see <a href="Advanced_field_properties.htm">Advanced field properties</a>.</p>
                                                    </li>
                                                    <li>
                                                        <p><span class="uicontrol">Integration Name</span>  —  The integration name is used to reference this field via merge fields or with <span class="mc-variable IB.ProductName variable">Platform</span> APIs.</p>
                                                    </li>
                                                    <li>
                                                        <p><span class="uicontrol">Field-Level Help</span>   — The <span class="uicontrol">Field-Level Help</span> box allows you to define help text
   for the field that will appear in a popup when the user clicks the help icon next to the field. </p>
                                                    </li>
                                                </ul>
                                                <p>Keep the following in mind when working with formula fields: </p>
                                                <ul>
                                                    <li>
                                                        <p>To define loops, you can use the <code>LOOP_BEGIN</code> and
      <code>LOOP_END</code> tokens, as described in <a href="Iterating_through_records.htm" class="MCXref xref">Iterating through records</a>. However, this technique should only be used for a small number of related
     records. Looping through a large set of records using these tokens can degrade performance. It
     is better to use a pre-defined function or the Platform Query API to obtain the required
     record. See the list of methods available in the <a href="Query_API.htm" class="MCXref xref">Query API</a>. </p>
                                                    </li>
                                                    <li>All merge tokens are replaced with the exact contents of the corresponding field's value
    before the formula logic is executed. For example, a text field included by a token
     <code>{!myTextField}</code> with a value of <code>Hello World</code> will be used as is
    without the quotes around it. Always remember to use quotes around any value where JavaScript
    requires them.</li>
                                                    <li>To use dates: <ul><li>In a formula: create a JavaScript <code>Date</code> instance by
      providing the merge token with quotes around it as the parameter:
      <pre>var myDate = new Date("{!myDateField}");</pre></li><li>As the return type of a formula: return the full value of the JavaScript
       <code>getTime()</code> method. For example:
      <pre>return myDate.getTime(); </pre></li></ul></li>
                                                    <li>When using images and shared images in formulas, wrap them in quotes to avoid errors. For
    example, the following formula returns a different starred image (representing a star rating
    from 1 to 5) based on a picklist value. In this example, the tokens <code>{!star0}</code>
    through <code>{!star5}</code> refer to hosted images and <code>{!rating}</code> refers
    to a picklist: <img src="rfi1391098070623.jpg" style="width: 101;height: 29;" alt="" /><pre>if ({!rating}==106469)
 return "{!star1}";
else if ({!rating}==106470)
 return "{!star2}";
else if ({!rating}==106471)
 return "{!star3}";
else if ({!rating}==106472)
 return "{!star4}";
else if ({!rating}==106473)
 return "{!star5}";
else
 return "{!star0}";</pre></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="menu-container">
                                            <div data-sticky-container="" id="tTzHr89NRUat_hpnWt70qA">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="tTzHr89NRUat_hpnWt70qA:top" data-bottom-anchor="contentBody:bottom" data-scroll-container=".body-container" data-sticky-on="small" data-scroll-container-on="only screen and (min-width: 1280px)">
                                                    <ul data-magellan="" data-animation-duration="250" data-active-class="selected" data-scroll-container=".body-container" data-scroll-container-on="only screen and (min-width: 1280px)" class="nocontent menu _Skins_topic_menu mc-component">
                                                        <li class="tree-node"><a href="#FormulaField">Formula Field</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel">
                                        <div class="right-align"><a class="footer1" href="https://www.linkedin.com/company/infiniteblue/" target="_blank"><img src="https://img.icons8.com/ios-filled/25/0572ed/linkedin-2--v1.png" alt="Linkedin" /></a><a class="footer1" href="https://twitter.com/InfiniteBlueHQ" target="_blank"><img src="https://img.icons8.com/ios-filled/25/0572ed/twitter.png" alt="Twitter" /></a><a class="footer1last" href="https://www.youtube.com/channel/UCRa_FE0f3k9KJrNJyAT39Hg/featured" target="_blank"><img src="https://img.icons8.com/ios-glyphs/25/0572ed/youtube-play.png" alt="YouTube" /></a>
                                        </div>
                                        <div class="right-align-2"><a class="footer2" href="https://www.infiniteblue.com" target="_blank">Copyright © 2024 Infinite Blue. All Rights Reserved.</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>